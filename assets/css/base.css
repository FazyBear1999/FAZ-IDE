/* assets/css/base.css
   FAZ IDE (v0) - foundation

   Rules:
   - tokens + reset + global typography/background only
   - layout and components live elsewhere
*/

:root {
    color-scheme: dark;

    /* Core palette */
    --bg: #0b0f14;
    --surface-panel: #0f1117;
    --surface-panel-alt: #111520;
    --surface-panel-hover: #141a26;
    --surface-menu: rgba(10, 14, 20, 0.97);
    --surface-soft: rgba(148, 163, 184, 0.12);
    --surface-soft-hover: rgba(148, 163, 184, 0.22);
    --surface-top-hover: rgba(148, 163, 184, 0.09);
    --surface-top-active: rgba(148, 163, 184, 0.14);
    --surface-active: rgba(14, 24, 34, 0.9);
    --surface-selected: rgba(56, 189, 248, 0.18);
    --surface-selected-soft: rgba(56, 189, 248, 0.14);
    --surface-danger-soft: rgba(28, 14, 16, 0.85);
    --surface-drop-target: rgba(12, 28, 44, 0.35);

    --text: #e6edf3;
    --muted: rgba(164, 176, 192, 0.85);
    --text-muted-soft: rgba(148, 163, 184, 0.92);
    --text-muted-quiet: rgba(148, 163, 184, 0.72);
    --text-top-control: rgba(226, 232, 240, 0.95);
    --text-accent-strong: rgba(240, 249, 255, 0.98);
    --text-footer: rgba(170, 179, 199, 0.7);
    --danger-contrast-text: rgba(254, 226, 226, 0.98);

    --border: rgba(148, 163, 184, 0.28);
    --border-soft: rgba(148, 163, 184, 0.14);
    --border-control: rgba(148, 163, 184, 0.18);
    --border-strong: rgba(148, 163, 184, 0.35);
    --border-focus: rgba(56, 189, 248, 0.65);
    --border-focus-soft: rgba(56, 189, 248, 0.58);
    --ring-focus: rgba(56, 189, 248, 0.25);
    --ring-focus-soft: rgba(56, 189, 248, 0.22);
    --border-top-hover: rgba(148, 163, 184, 0.26);
    --drop-target-border: rgba(56, 189, 248, 0.35);

    /* Accents */
    --accent: #34d399;
    --accent-info: #38bdf8;
    --accent-warn: #fbbf24;
    --danger: #f87171;
    --health-ok-border: rgba(52, 211, 153, 0.45);
    --health-ok-text: rgba(52, 211, 153, 0.95);
    --health-warn-border: rgba(251, 191, 36, 0.55);
    --health-warn-text: rgba(251, 191, 36, 0.95);
    --health-error-border: rgba(248, 113, 113, 0.55);
    --health-error-text: rgba(248, 113, 113, 0.95);

    /* Controls */
    --btn-bg: var(--surface-panel-alt);
    --btn-bg-hover: var(--surface-panel-hover);
    --btn-border: var(--border-control);
    --btn-border-hover: var(--border-strong);
    --btn-primary-bg: rgba(12, 22, 32, 0.95);
    --btn-primary-border: rgba(56, 189, 248, 0.4);
    --btn-primary-shadow: rgba(56, 189, 248, 0.12);
    --btn-active-bg: rgba(16, 26, 24, 0.9);
    --btn-active-border: rgba(52, 211, 153, 0.5);
    --btn-active-shadow: rgba(52, 211, 153, 0.18);
    --btn-danger-bg: var(--surface-danger-soft);
    --btn-danger-border: rgba(248, 113, 113, 0.45);
    --btn-pressed-border: rgba(56, 189, 248, 0.6);
    --btn-pressed-text: rgba(56, 189, 248, 0.95);
    --btn-pressed-shadow: rgba(56, 189, 248, 0.2);
    --theme-select-pulse-start: rgba(56, 189, 248, 0);
    --theme-select-pulse-end: var(--ring-focus-soft);
    --select-arrow-color: rgba(148, 163, 184, 0.88);

    /* Section + menu surfaces */
    --files-search-bg: rgba(10, 14, 20, 0.58);
    --files-search-border: rgba(148, 163, 184, 0.14);
    --files-option-text: rgba(203, 213, 225, 0.9);
    --files-option-hover-bg: rgba(148, 163, 184, 0.08);
    --files-option-selected-bg: rgba(56, 189, 248, 0.14);
    --files-option-selected-text: rgba(240, 249, 255, 0.98);
    --files-section-bg: rgba(148, 163, 184, 0.12);
    --files-section-bg-hover: rgba(148, 163, 184, 0.22);
    --files-section-bg-open: rgba(56, 189, 248, 0.18);
    --files-section-text: rgba(226, 232, 240, 0.95);
    --files-caret-color: rgba(148, 163, 184, 0.7);
    --files-tree-guide: rgba(148, 163, 184, 0.62);
    --menu-bg: #0a0e14;
    --menu-shadow: 0 8px 18px rgba(5, 8, 14, 0.34);
    --menu-danger-border: rgba(248, 113, 113, 0.3);
    --menu-danger-bg: rgba(28, 14, 16, 0.2);
    --menu-danger-border-hover: rgba(248, 113, 113, 0.45);
    --menu-danger-bg-hover: rgba(40, 16, 18, 0.46);
    --section-danger-hover-bg: rgba(248, 113, 113, 0.2);
    --overlay-backdrop: rgba(5, 8, 14, 0.58);
    --overlay-backdrop-soft: rgba(6, 10, 16, 0.35);
    --overlay-backdrop-strong: rgba(2, 4, 10, 0.75);
    --surface-elevated: rgba(12, 18, 26, 0.9);
    --surface-elevated-alt: rgba(15, 23, 42, 0.8);
    --surface-elevated-focus: rgba(15, 23, 42, 0.95);
    --surface-command: rgba(3, 20, 36, 0.65);
    --status-info-border: rgba(56, 189, 248, 0.45);
    --status-info-bg: rgba(3, 32, 53, 0.72);
    --status-info-text: rgba(186, 230, 253, 0.96);
    --status-warn-border: rgba(251, 191, 36, 0.45);
    --status-warn-bg: rgba(69, 39, 10, 0.72);
    --status-warn-text: rgba(254, 240, 138, 0.96);
    --status-danger-border: rgba(248, 113, 113, 0.45);
    --status-danger-bg: rgba(69, 10, 10, 0.72);
    --status-danger-text: rgba(254, 202, 202, 0.96);
    --status-success-border: rgba(52, 211, 153, 0.45);
    --status-success-bg: rgba(6, 46, 28, 0.75);
    --status-success-text: rgba(167, 243, 208, 0.96);
    --status-success-ring: rgba(52, 211, 153, 0.12);
    --status-dot-ring: rgba(52, 211, 153, 0.24);
    --status-dot-glow: rgba(52, 211, 153, 0.28);
    --status-dot-ring-pulse: rgba(52, 211, 153, 0.1);
    --status-dot-glow-pulse: rgba(52, 211, 153, 0.38);

    /* Console + diagnostics */
    --console-tab-bg: rgba(12, 18, 28, 0.65);
    --console-tab-border: rgba(148, 163, 184, 0.2);
    --console-tab-text: rgba(148, 163, 184, 0.95);
    --console-tab-active-bg: rgba(6, 46, 28, 0.62);
    --console-tab-active-border: rgba(52, 211, 153, 0.56);
    --console-tab-active-text: rgba(167, 243, 208, 0.96);
    --console-tab-active-glow: rgba(52, 211, 153, 0.16);
    --log-bg: #0b0f14;
    --log-text: #d8def0;
    --log-border: rgba(148, 163, 184, 0.12);
    --panel-section-bg: var(--surface-panel);
    --panel-section-border: rgba(148, 163, 184, 0.2);
    --panel-item-bg: var(--surface-panel);
    --panel-item-border: rgba(148, 163, 184, 0.16);
    --editor-focus-border: var(--border-focus);
    --editor-focus-ring: rgba(56, 189, 248, 0.12);
    --diagnostic-error: rgba(248, 113, 113, 0.95);
    --diagnostic-error-ring: rgba(248, 113, 113, 0.24);
    --diagnostic-warn: rgba(251, 191, 36, 0.95);
    --diagnostic-warn-ring: rgba(251, 191, 36, 0.24);
    --diagnostic-info: rgba(56, 189, 248, 0.95);
    --diagnostic-info-ring: rgba(56, 189, 248, 0.24);
    --diagnostic-lens-border: rgba(148, 163, 184, 0.24);
    --diagnostic-lens-bg: rgba(15, 23, 42, 0.78);
    --diagnostic-lens-text: rgba(191, 219, 254, 0.95);
    --diagnostic-lens-error-border: rgba(248, 113, 113, 0.55);
    --diagnostic-lens-error-bg: rgba(69, 10, 10, 0.42);
    --diagnostic-lens-error-text: rgba(254, 202, 202, 0.96);
    --diagnostic-lens-warn-border: rgba(251, 191, 36, 0.52);
    --diagnostic-lens-warn-bg: rgba(69, 39, 10, 0.42);
    --diagnostic-lens-warn-text: rgba(254, 240, 138, 0.96);
    --diagnostic-lens-info-border: rgba(56, 189, 248, 0.48);
    --diagnostic-lens-info-bg: rgba(12, 40, 62, 0.42);
    --diagnostic-lens-info-text: rgba(186, 230, 253, 0.96);
    --syntax-plain: #c9d1d9;
    --syntax-keyword: #ff7b72;
    --syntax-atom: #79c0ff;
    --syntax-number: #79c0ff;
    --syntax-def: #d2a8ff;
    --syntax-variable: #c9d1d9;
    --syntax-variable-2: #ffa657;
    --syntax-variable-3: #7ee787;
    --syntax-property: #79c0ff;
    --syntax-operator: #ff7b72;
    --syntax-comment: #8b949e;
    --syntax-string: #a5d6ff;
    --syntax-string-2: #7ee787;
    --syntax-meta: #8b949e;
    --syntax-tag: #7ee787;
    --syntax-attribute: #79c0ff;
    --syntax-qualifier: #7ee787;
    --syntax-builtin: #ffa657;
    --syntax-bracket: #c9d1d9;
    --syntax-selection-bg: rgba(56, 139, 253, 0.3);
    --syntax-selection-bg-focus: rgba(56, 139, 253, 0.45);
    --syntax-active-line-bg: rgba(110, 118, 129, 0.14);
    --syntax-cursor: #c9d1d9;
    --syntax-line-number: rgba(110, 118, 129, 0.95);
    --syntax-line-number-active: #c9d1d9;
    --syntax-matching-bracket-bg: rgba(56, 139, 253, 0.24);
    --syntax-matching-bracket-border: rgba(56, 139, 253, 0.62);
    --syntax-nonmatching-bracket-bg: rgba(255, 123, 114, 0.24);
    --syntax-nonmatching-bracket-border: rgba(255, 123, 114, 0.62);
    --kbd-bg: rgba(255, 255, 255, 0.05);
    --drag-handle-bg: rgba(12, 18, 26, 0.6);
    --drag-handle-dot: rgba(164, 176, 192, 0.9);
    --drag-handle-glyph: rgba(164, 176, 192, 0.9);
    --file-icon-opacity: 0.95;
    --file-icon-filter: none;
    --folder-icon-opacity: 0.95;
    --folder-icon-filter: none;
    --prompt-cover-text: rgba(241, 245, 249, 0.97);
    --prompt-cover-text-shadow: 0 1px 0 rgba(2, 6, 12, 0.72), 0 0 6px rgba(2, 6, 12, 0.3);
    --prompt-cover-bg: linear-gradient(180deg, rgba(241, 245, 249, 0.2), rgba(148, 163, 184, 0.18)), linear-gradient(180deg, rgba(15, 23, 42, 0.12), rgba(15, 23, 42, 0.32));
    --prompt-cover-border: rgba(148, 163, 184, 0.48);
    --prompt-cover-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.24), inset 0 -1px 0 rgba(2, 6, 12, 0.18);
    --prompt-cover-hover-border: rgba(248, 113, 113, 0.52);
    --prompt-arm-border: rgba(248, 113, 113, 0.55);
    --prompt-arm-bg: radial-gradient(130% 120% at 50% 15%, rgba(248, 113, 113, 0.2), rgba(127, 29, 29, 0) 60%), linear-gradient(180deg, rgba(127, 29, 29, 0.62), rgba(69, 10, 10, 0.85));
    --prompt-arm-text: rgba(254, 242, 242, 0.98);
    --prompt-arm-shadow: inset 0 0 0 1px rgba(248, 113, 113, 0.2), inset 0 8px 16px rgba(2, 6, 12, 0.35);
    --prompt-badge-border: rgba(253, 186, 116, 0.68);
    --prompt-badge-bg: linear-gradient(180deg, rgba(251, 146, 60, 0.88), rgba(194, 65, 12, 0.92));
    --prompt-badge-text: rgba(255, 247, 237, 0.98);
    --prompt-badge-shadow: inset 0 0 0 1px rgba(255, 237, 213, 0.18), 0 0 0 1px rgba(194, 65, 12, 0.25);
    --prompt-armed-border: rgba(251, 146, 60, 0.78);
    --prompt-armed-bg: radial-gradient(140% 140% at 50% 0%, rgba(253, 186, 116, 0.24), rgba(253, 186, 116, 0) 55%), linear-gradient(180deg, rgba(220, 38, 38, 0.78), rgba(127, 29, 29, 0.95));
    --prompt-armed-text: rgba(255, 237, 213, 0.98);
    --prompt-armed-shadow: inset 0 0 0 1px rgba(251, 146, 60, 0.32), 0 0 0 1px rgba(194, 65, 12, 0.3), 0 0 14px rgba(220, 38, 38, 0.3);
    --prompt-armed-hover-border: rgba(253, 186, 116, 0.92);
    --prompt-armed-pulse-start: inset 0 0 0 1px rgba(251, 146, 60, 0.32), 0 0 0 1px rgba(194, 65, 12, 0.3), 0 0 12px rgba(220, 38, 38, 0.28);
    --prompt-armed-pulse-end: inset 0 0 0 1px rgba(251, 146, 60, 0.42), 0 0 0 1px rgba(251, 146, 60, 0.38), 0 0 18px rgba(239, 68, 68, 0.42);
    --prompt-danger-border: rgba(220, 38, 38, 0.55);
    --prompt-danger-bg: rgba(127, 29, 29, 0.35);
    --prompt-danger-bg-hover: rgba(127, 29, 29, 0.48);
    --prompt-danger-hover-border: var(--danger);

    /* Motion + sizing */
    --motion-fast: 0.12s;
    --motion-ui: 0.16s;
    --motion-base: 0.18s;
    --motion-layout: 0.2s;
    --motion-slow: 0.24s;
    --motion-ease: ease;
    --motion-ease-emphasized: cubic-bezier(0.2, 0.7, 0.15, 1);
    --control-height-compact: 24px;
    --control-height-xs: 28px;
    --control-height-sm: 30px;
    --control-height-md: 32px;
    --control-height-lg: 34px;
    --control-height-xl: 40px;
    --control-size-xs: 18px;
    --control-size-sm: 26px;
    --control-size-md: 28px;
    --control-size-lg: 30px;
    --field-pad-y: 7px;
    --field-pad-x: 10px;
    --text-size-2xs: 12px;
    --text-size-xs: 13px;
    --top-theme-width: 126px;
    --panel-min-width: 180px;
    --panel-min-width-editor: 180px;
    --panel-min-width-bottom: 140px;
    --top-height: 40px;
    --top-pad-inline: 8px;
    --footer-pad-block: 6px;
    --footer-pad-inline: 10px;
    --footer-chip-height: 22px;
    --splitter-hit-area: 16px;
    --splitter-overlap: 8px;
    --modal-radius: var(--radius-sm);
    --modal-padding: 10px;
    --modal-gap: 8px;
    --modal-border-color: var(--border-control);
    --modal-surface: var(--menu-bg);
    --modal-shadow: var(--menu-shadow);
    --modal-max-height: 88vh;
    --modal-header-min-height: 58px;
    --modal-header-padding-y: 8px;
    --modal-header-border: var(--border-soft);
    --modal-width-sm: min(520px, calc(100vw - 20px));
    --modal-width-md: min(680px, calc(100vw - 20px));
    --modal-width-lg: min(700px, calc(100vw - 24px));

    /* Scrollbars */
    --scrollbar-size: 4px;
    --scrollbar-thumb-border: 1px;
    --scrollbar-thumb: rgba(148, 163, 184, 0.28);
    --scrollbar-thumb-hover: rgba(148, 163, 184, 0.45);

    /* Tools panel layout tokens */
    --tools-gap: 6px;
    --tools-pad: 6px;
    --tools-section-pad: 8px;
    --tools-section-gap: 6px;
    --tools-header-gap: 6px;
    --tools-action-gap: 6px;
    --tools-action-min-height: var(--control-height-sm);
    --tools-action-font-size: var(--text-size-2xs);
    --tools-section-min-height: 110px;

    /* Radius + shadow */
    --radius-xxs: 0px;
    --radius-xs: 0px;
    --radius-md: 0px;
    --radius-lg: 0px;
    --radius-xl: 0px;
    --radius-2xl: 0px;
    --radius-3xl: 0px;
    --radius-pill: 0px;
    --radius: 0px;
    --radius-sm: 0px;
    --shadow: none;
    --file-depth: 0;

    /* Typography */
    --font: "JetBrains Mono", "Cascadia Mono", "Consolas", monospace;
    --mono: "JetBrains Mono", "Cascadia Mono", "Consolas", monospace;
    --editor-font-family: var(--mono);
}

/* Reset */
* {
    box-sizing: border-box;
    /* scrollbar-width: thin;  // Not fully supported, see compatibility notes */
    /* scrollbar-color: var(--scrollbar-thumb) transparent;  // Not fully supported, see compatibility notes */
}
html, body { height: 100%; }
html {
    text-rendering: optimizeLegibility;
    font-kerning: normal;
}

body {
    margin: 0;
    overflow: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-synthesis-weight: none;
    font-synthesis-style: none;
}

::selection {
    background: var(--syntax-selection-bg-focus);
    color: var(--text);
}

::-moz-selection {
    background: var(--syntax-selection-bg-focus);
    color: var(--text);
}

/* Consistent scrollbars (chromium + firefox) */
*::-webkit-scrollbar {
    width: var(--scrollbar-size);
    height: var(--scrollbar-size);
}

*::-webkit-scrollbar-track {
    background: transparent;
}

*::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: var(--radius-pill);
    border: var(--scrollbar-thumb-border) solid transparent;
    background-clip: padding-box;
}

*::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
    background-clip: padding-box;
}

/* Base body style */
body {
    font-family: var(--font);
    color: var(--text);
    line-height: 1.4;
    background-color: var(--bg);
}

button,
input,
select,
textarea {
    font-family: inherit;
    text-rendering: optimizeLegibility;
    font-kerning: normal;
    font-variant-numeric: tabular-nums;
}

@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}
